var shared=angular.module("portalShared",[]);shared.factory("CustomModalService",["$modal","$timeout","labelService",function(n,t,i){function r(){function r(n){var t='<div class="cms-modal-header"><h4 class="cms-modal-title">'+i.get("Common.Prompt")+"<\/h4>"+(f[n].header?f[n].header:"")+'<\/div ><div class="cms-modal-body">'+f[n].template+'<\/div><div class="cms-modal-footer"><button class="btn btn-cancel" ng-show="\''+n+"'!=='alert' && '"+n+"'!=='alertError'\" ng-click=\"cancel()\">"+i.get("Common.Cancel")+'<\/button><button class="btn btn-confirm" ng-click="ok()">'+i.get("Common.Confirm")+"<\/button><\/div>";return{template:t,params:f[n].params}}function u(t,i,r,u){return n.open({template:t||"",controller:["modalMsg","modalParams","modalHeader","$document","$scope","$modalInstance","$timeout",function(n,t,i,r,u,f,e){u.input={msg:""};u.msg=n;u.header=i;u.ok=function(){f.close(t.ok(u.input.msg));u.$destroy()};u.cancel=function(){f.close(t.cancel());u.$destroy()};f.opened.then(function(){e(function(){var n=angular.element(document.getElementById("cms-modal-input"));n.length>0&&n[0].focus()},100)});r.on("keydown",function(n){switch(n.keyCode){case 13:u.ok();break;case 27:u.cancel()}});u.$on("$destroy",function(){r.off("keydown")})}],resolve:{modalParams:function(){return i||{}},modalMsg:function(){return r||""},modalHeader:function(){return u||""}},backdrop:"static",backdropClass:"custom-backdrop",keyboard:!1,windowClass:"custom-modal"})}function e(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return""}var f={alert:{template:"{{msg}}",params:{ok:function(){return!0},cancel:function(){return!0}}},alertError:{template:'<div bind-html-compile="{{msg}}"><\/div>',header:'<span class="cms-modal-header-error">{{header}}<\/span>',params:{ok:function(){return!0},cancel:function(){return!0}}},confirm:{template:"{{msg}}",params:{ok:function(){return!0},cancel:function(){return!1}}},prompt:{template:'{{msg}} <br/><input id="cms-modal-input" ng-model="input.msg" type="text">',params:{ok:function(n){return n},cancel:function(){return!1}}},promptPwd:{template:'{{msg}} <br/><input id="cms-modal-input" ng-model="input.msg" type="password">',params:{ok:function(n){return n},cancel:function(){return!1}}}};this.alert=function(n){var i=r("alert");return u(i.template,i.params,n).result.then(function(n){return t(function(){return n},400)})};this.alertError=function(n){var i=r("alertError"),f=e("nohostname_ip");return u(i.template,i.params,n,f).result.then(function(n){return t(function(){return n},400)})};this.confirm=function(n){var i=r("confirm");return u(i.template,i.params,n).result.then(function(n){return t(function(){return n},400)})};this.prompt=function(n){var i=r("prompt");return u(i.template,i.params,n).result.then(function(n){return t(function(){return n},400)})};this.promptPwd=function(n){var i=r("promptPwd");return u(i.template,i.params,n).result.then(function(n){return t(function(){return n},400)})}}return new r}])